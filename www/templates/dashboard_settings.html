{% extends 'dashboard.html' %}
{% block settings_selected %}selected{% endblock %}
{% block dashboard %}
<h2>Settings</h2>
<h3>API Information</h3>
<p>
  Userhash: {{ account.hash }} <br />
  API key: {{ account.api_key }}
</p>

<form method="post">
  <h3>Source Settings</h3>
  <p>
  <input type="checkbox" value="true" name="source_enabled" {% if account.source_enabled %}checked="checked"{% endif %}/> Yes, I want to send notifications with this account<br />
  <p style="margin-left: 10px;">
  Sender Name: <input type="text" name="source_name" {% if account.source_name %}value="{{account.source_name}}" {% endif %}/><br />
  Sender Icon URL: <input type="text" name="source_icon" {% if account.source_icon %}value="{{account.source_icon}}" {% endif %}/><br />
  </p>
  <input type="submit" value="Save" />
</p>
</form>

<h3>Debug - Test Notify</h3>
<form action="http://{{ account.api_key }}@{{ api_host }}/{{ api_version }}/notify/{{ account.hash }}" method="post">
  Title: <input type="text" name="title" /><small>(Optional)</small><br />
  Icon URL: <input type="text" name="icon" /><small>(Optional)</small><br />
  Link URL: <input type="text" name="link" /><small>(Optional)</small><br />
  Text:<br />
  <textarea name="text"></textarea><br />
  <input type="checkbox" name="sticky" value="true" /> Sticky?<br />
  <input type="submit" value="Notify">
</form>
{% endblock %}